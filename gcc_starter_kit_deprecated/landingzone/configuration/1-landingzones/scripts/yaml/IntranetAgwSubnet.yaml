IntranetAgwSubnet:
  AllowInboundSSHManagement:
    name: "AllowInboundSSHManagement"
    priority: "100"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "{{management_infrasubnet_address_prefixes}}"
    destination_address_prefix: "{{hub_intranet_ingress_agwsubnet_address_prefixes}}"
    destination_port_range: "22"
    access: "Allow"
    direction: "Inbound"
  AllowHTTPSManagement:
    name: "AllowHTTPSManagement"
    priority: "110"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "{{management_infrasubnet_address_prefixes}}"
    destination_address_prefix: "{{hub_intranet_ingress_agwsubnet_address_prefixes}}"
    destination_port_range: "443"
    access: "Allow"
    direction: "Inbound"
  AllowHTTPSInternetAgw:
    name: "AllowHTTPSInternetAgw"
    priority: "120"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "{{project_appsubnet_address_prefixes}}"
    destination_address_prefix: "{{hub_intranet_ingress_agwsubnet_address_prefixes}}"
    destination_port_range: "443"
    access: "Allow"
    direction: "Inbound"
  AllowHTTPSVirtualNetwork:
    name: "AllowHTTPSVirtualNetwork"
    priority: "130"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "VirtualNetwork"
    destination_address_prefix: "{{hub_intranet_ingress_agwsubnet_address_prefixes}}"
    destination_port_range: "443"
    access: "Allow"
    direction: "Inbound"
  AllowHTTPSDevOpsRunner:
    name: "AllowHTTPSDevOpsRunner"
    priority: "140"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "{{devops_runnersubnet_address_prefixes}}"
    destination_address_prefix: "{{hub_intranet_ingress_agwsubnet_address_prefixes}}"
    destination_port_range: "443"
    access: "Allow"
    direction: "Inbound"
  Allow65200GatewayManager:
    name: "Allow65200GatewayManager"
    priority: "150"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "GatewayManager"
    destination_address_prefix: "*"
    destination_port_range: "65200 - 65535"
    access: "Allow"
    direction: "Inbound"
  AllowHTTPSAzureLoadBalancer:
    name: "AllowHTTPSAzureLoadBalancer"
    priority: "160"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "AzureLoadBalancer"
    destination_address_prefix: "VirtualNetwork"
    destination_port_range: "443"
    access: "Allow"
    direction: "Inbound"
  CustomDenyAllInbound:
    name: "CustomDenyAllInbound"
    priority: "4060"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "*"
    destination_address_prefix: "*"
    destination_port_range: "*"
    access: "Deny"
    direction: "Inbound"
  AllowHTTPSVirtualNetwork:
    name: "AllowHTTPSVirtualNetwork"
    priority: "100"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "VirtualNetwork"
    destination_address_prefix: "VirtualNetwork"
    destination_port_range: "443"
    access: "Allow"
    direction: "Outbound"
  CustomDenyAllOutbound:
    name: "CustomDenyAllOutbound"
    priority: "4060"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "*"
    destination_address_prefix: "*"
    destination_port_range: "*"
    access: "Deny"
    direction: "Outbound"
  AllowHTTPSAzureMonitor:
    name: "AllowHTTPSAzureMonitor"
    priority: "110"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "{{hub_intranet_ingress_agwsubnet_address_prefixes}}"
    destination_address_prefix: "AzureMonitor"
    destination_port_range: "443"
    access: "Allow"
    direction: "Outbound"
  AllowHTTPSEventHub:
    name: "AllowHTTPSEventHub"
    priority: "120"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "{{hub_intranet_ingress_agwsubnet_address_prefixes}}"
    destination_address_prefix: "EventHub"
    destination_port_range: "443"
    access: "Allow"
    direction: "Outbound"
  AllowHTTPSAzureActiveDirectory:
    name: "AllowHTTPSAzureActiveDirectory"
    priority: "130"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "{{hub_intranet_ingress_agwsubnet_address_prefixes}}"
    destination_address_prefix: "AzureActiveDirectory"
    destination_port_range: "443"
    access: "Allow"
    direction: "Outbound"
  AllowHTTPSStorage:
    name: "AllowHTTPSStorage"
    priority: "140"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "{{hub_intranet_ingress_agwsubnet_address_prefixes}}"
    destination_address_prefix: "Storage"
    destination_port_range: "443"
    access: "Allow"
    direction: "Outbound"
  AllowHTTPSAzureKeyVault:
    name: "AllowHTTPSAzureKeyVault"
    priority: "150"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "{{hub_intranet_ingress_agwsubnet_address_prefixes}}"
    destination_address_prefix: "AzureKeyVault.SouthEastAsia"
    destination_port_range: "443"
    access: "Allow"
    direction: "Outbound"
  AllowHTTPSMicrosoftCloudAppSecurity:
    name: "AllowHTTPSMicrosoftCloudAppSecurity"
    priority: "160"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "{{hub_intranet_ingress_agwsubnet_address_prefixes}}"
    destination_address_prefix: "MicrosoftCloudAppSecurity"
    destination_port_range: "443"
    access: "Allow"
    direction: "Outbound"
  AllowHTTPSProjectAppSubnet:
    name: "AllowHTTPSProjectAppSubnet"
    priority: "170"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "{{hub_intranet_ingress_agwsubnet_address_prefixes}}"
    destination_address_prefix: "{{project_appsubnet_address_prefixes}}"
    destination_port_range: "443"
    access: "Allow"
    direction: "Outbound"
  AllowHTTPSProjectWebSubnet:
    name: "AllowHTTPSProjectWebSubnet"
    priority: "180"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "{{hub_intranet_ingress_agwsubnet_address_prefixes}}"
    destination_address_prefix: "{{project_websubnet_address_prefixes}}"
    destination_port_range: "443"
    access: "Allow"
    direction: "Outbound"
