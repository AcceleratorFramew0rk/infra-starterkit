DbSubnet:
  AllowInboundSSHManagement:
    name: "AllowInboundSSHManagement"
    priority: "100"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "{{management_infrasubnet_address_prefixes}}"
    destination_address_prefix: "{{project_dbsubnet_address_prefixes}}"
    destination_port_range: "22"
    access: "Allow"
    direction: "Inbound"
  AllowMSSQLManagement:
    name: "AllowMSSQLManagement"
    priority: "110"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "{{management_infrasubnet_address_prefixes}}"
    destination_address_prefix: "{{project_dbsubnet_address_prefixes}}"
    destination_port_range: "1433"
    access: "Allow"
    direction: "Inbound"
  AllowMSSQLApp:
    name: "AllowMSSQLApp"
    priority: "120"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "VirtualNetwork"
    destination_address_prefix: "{{project_dbsubnet_address_prefixes}}"
    destination_port_range: "1433"
    access: "Allow"
    direction: "Inbound"
  AllowHTTPSDevOpsRunner:
    name: "AllowHTTPSDevOpsRunner"
    priority: "130"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "{{devops_runnersubnet_address_prefixes}}"
    destination_address_prefix: "{{project_dbsubnet_address_prefixes}}"
    destination_port_range: "443"
    access: "Allow"
    direction: "Inbound"
  AllowMSSQLVirtualNetwork:
    name: "AllowMSSQLVirtualNetwork"
    priority: "140"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "VirtualNetwork"
    destination_address_prefix: "VirtualNetwork"
    destination_port_range: "1433"
    access: "Allow"
    direction: "Inbound"
  AllowRedisVirtualNetwork:
    name: "AllowRedisVirtualNetwork"
    priority: "150"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "VirtualNetwork"
    destination_address_prefix: "VirtualNetwork"
    destination_port_range: "6380"
    access: "Allow"
    direction: "Inbound"
  AllowStorageVirtualNetwork:
    name: "AllowStorageVirtualNetwork"
    priority: "160"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "VirtualNetwork"
    destination_address_prefix: "VirtualNetwork"
    destination_port_range: "443"
    access: "Allow"
    direction: "Inbound"
  CustomDenyAllInbound:
    name: "CustomDenyAllInbound"
    priority: "4060"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "*"
    destination_address_prefix: "*"
    destination_port_range: "*"
    access: "Deny"
    direction: "Inbound"
  CustomDenyAllOutbound:
    name: "CustomDenyAllOutbound"
    priority: "4060"
    source_port_range: "*"
    protocol: "Tcp"
    source_address_prefix: "*"
    destination_address_prefix: "*"
    destination_port_range: "*"
    access: "Deny"
    direction: "Outbound"
